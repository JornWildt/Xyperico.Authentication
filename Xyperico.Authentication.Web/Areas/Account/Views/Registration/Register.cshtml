@model Xyperico.Authentication.Web.Areas.Account.Models.RegisterModel
@using Xyperico.Web.Mvc.Html
@using Xyperico.Authentication.Web;
@{
  ViewBag.Title = _.Account.Registration;
}

<hgroup class="title">
    <h1>@ViewBag.Title</h1>
    <h2>@_.Account.CreateNewAccount</h2>
</hgroup>

@using (Html.BeginForm("register", "registration", FormMethod.Post, new { id = "registerForm" }))
{
  @Html.AntiForgeryToken()
  @Html.ValidationSummary()

  <fieldset>
    <ol class="form inputs">
      <li>
        @Html.LabelFor(m => m.UserName)
        @Html.TextBoxFor(m => m.UserName)
        <span id="UserNameStatus"></span>
      </li>
      <li>
        @Html.LabelFor(m => m.EMail)
        @Html.TextBoxFor(m => m.EMail)
      </li>
      <li>
        @Html.LabelFor(m => m.Password)
        @Html.PasswordFor(m => m.Password)
        @Html.ValidationMessageFor(m => m.Password)
      </li>
      <li>
        @Html.LabelFor(m => m.ConfirmPassword)
        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "required" })
      </li>
    </ol>
    <ol class="form buttons">
      <li><input type="submit" value="@_.Account.Register" /></li>
    </ol>
  </fieldset>
}

@Html.Action("ExternalLoginList", "Login", new { Header = @_.Account.RegisterWithExternalService })

@Html.AutoFocusFor(m => m.UserName)

@section Scripts {
@*<script src="/Scripts/jquery.validate.js"></script>*@
  @Scripts.Render("~/bundles/jqueryval")
  @Scripts.Render("~/Areas/Account/Scripts/account.js")

  <script type="text/javascript">


    $(document).ready(function () {

      //      UserNameChecker.Initialize("#UserName", "#UserNameStatus", "@Html.ImageUrl("load-indicator-16x16.gif")");
    });
  </script>
}

@section styles {
  @Html.Stylesheet("Account")
}
